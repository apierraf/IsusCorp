package com.example.isuscorp.ui.loginimport android.os.Bundleimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.widget.Toastimport androidx.databinding.DataBindingUtilimport androidx.fragment.app.Fragmentimport androidx.fragment.app.viewModelsimport androidx.navigation.findNavControllerimport com.example.isuscorp.IsusCorpAppimport com.example.isuscorp.Rimport com.example.isuscorp.databinding.LoginFragmentBindingimport com.example.isuscorp.misc.DialogLoginclass LoginFragment : Fragment() {    private val loginViewModel: LoginViewModel by viewModels {        LoginViewModel.LoginViewModelFactory((activity?.application as IsusCorpApp).repository)    }    private lateinit var binding: LoginFragmentBinding    private var dialogLogin: DialogLogin = DialogLogin()    override fun onCreateView(        inflater: LayoutInflater, container: ViewGroup?,        savedInstanceState: Bundle?    ): View {        binding = DataBindingUtil.inflate(inflater, R.layout.login_fragment, container, false)        binding.loginButton.setOnClickListener {            getUser()        }        binding.actionRegister.setOnClickListener {            binding.root.findNavController()                .navigate(R.id.action_loginFragment_to_registrerFragment)        }        return binding.root    }    //Method to log the user in the application as well as its validation    private fun getUser() {        val userName = binding.userEdit.text.toString()        val password = binding.passwordEdit.text.toString()        when (loginViewModel.getUser(userName, password)) {            null -> dialogLogin.showDialog(binding.root.context)            else -> binding.root.findNavController().navigate(R.id.action_loginFragment_to_dashboardFragment)        }    }}